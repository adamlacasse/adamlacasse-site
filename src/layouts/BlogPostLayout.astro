---
import BaseLayout from "./BaseLayout.astro";
import { AUTHOR } from "../consts";

const { title, description, pubDate, updatedDate, tags = [] } = Astro.props;
---

<BaseLayout title={`${title} — ${AUTHOR}`} description={description}>
  <article class="prose">
    <header>
      <h1>{title}</h1>
      <div class="post-meta">
        <time datetime={pubDate?.toISOString()}>
          {pubDate?.toLocaleDateString("en-US", { year:"numeric", month:"short", day:"numeric" })}
        </time>
        {updatedDate && (
          <>
            {" · updated "}
            <time datetime={updatedDate.toISOString()}>
              {updatedDate.toLocaleDateString("en-US", { year:"numeric", month:"short", day:"numeric" })}
            </time>
          </>
        )}
      </div>
      {tags.length > 0 && (
        <div class="post-tags">
          {tags.map((t: any) => (
            <span class="post-tag">
              {t}
            </span>
          ))}
        </div>
      )}
    </header>

    <div class="prose-content">
      <slot />
    </div>
  </article>
</BaseLayout>
